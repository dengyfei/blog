---
title: 单进程浏览器 VS 多进程浏览器
date: 2023-06-27 23:44:15
tags:
  - '浏览器'
  - '网络'
categories:
  - '浏览器'
  - '网络'
---

## 进程和线程

启动一个程序的时候，操作系统会为该程序创建一块内存，用来存放代码、运行中的数据和一个执行任务的主线程，我们把这样的一个运行环境叫进程。进程是操作系统进行资源分配和调度的一个独立单元，任一时刻，CPU只能执行一个进程。

而线程是不能单独存在的，它需要依附于进程，由进程来启动和管理，它是程序执行的最小单位。一个进程中可以开启多个线程并行完成不同的任务，我们称之为多线程。

我们可以把进程比作是一个工厂，而工厂里面的生产线就是线程。进程和线程直接有以下几个特点：

**1、进程中的任意线程执行出错，都会导致整个线程崩溃**

**2、同一进程间的线程，共享数据**

举个例子，如果我们使用多线程执行下面任务
```js
A = 1+2
B = 20/5
C = 7*8
```
那么线程之间是可以共享数据的，如下图:
<div style="text-align: center">
<img src="./asset/thread.png">
</div>

从上图可以看出，线程1、线程2、线程3分别把执行的结果写入A、B、C中，然后线程2继续从A、B、C中读取数据，用来显示执行结果。

**3、当一个进程关闭之后，操作系统会回收进程所占用的内存。**

当一个进程退出时，操作系统会回收该进程所申请的所有资源；即使其中任意线程因为操作不当导致内存泄漏，当进程退出时，这些内存也会被正确回收。

**4. 进程之间的内容相互隔离。**

进程不同于线程，进程间的数据是相互隔离的。进程隔离是为保护操作系统中进程互不干扰，正是因为进程之间的数据是严格隔离的，所以一个进程如果崩溃了，或者挂起了，是不会影响到其他进程的。如果进程之间需要进行数据的通信，这时候，就需要使用用于进程间通信（IPC）的机制了。